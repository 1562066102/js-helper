!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).jsHelper={})}(this,function(r){"use strict";function n(e){return null==e?"":e}function o(e){return Object.prototype.toString.call(e).slice(8,-1)}function i(e){e=o(e);return e===r.Type.Object||e===r.Type.Array}r.Type=void 0,(e=r.Type||(r.Type={})).Null="Null",e.Undefined="Undefined",e.Number="Number",e.Boolean="Boolean",e.String="String",e.Symbol="Symbol",e.Date="Date",e.RegExp="RegExp",e.Function="Function",e.Object="Object",e.Array="Array";function a(e){if(i(e)){var t,n=o(e)===r.Type.Object?{}:[];for(t in e)n[t]=a(e[t]);return n}return e}var s,e;function u(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function c(e){var t={times:1,value:0};return Number.isInteger(e)?t.value=e:(t.times=Math.pow(10,(""+e).split(".")[1].length),t.value=parseInt(""+(Math.abs(e)*t.times+.5),10),e<0&&(t.value=-t.value)),t}function l(e,t,n){var r,e=c(e),o=e.value,i=e.times,t=c(t),a=t.value,u=t.times,l=Math.max(i,u);switch(n){case s.Add:r=(o*(l/i)+a*(l/u))/l;break;case s.Subtract:r=(o*(l/i)-a*(l/u))/l;break;case s.Multiply:r=o*a/(i*u);break;case s.Divide:r=o/a*(u/i)}return r}function d(e,t){void 0===t&&(t="file");for(var n=e.split(","),e=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new File([i],t,{type:e})}(e=s=s||{})[e.Add=0]="Add",e[e.Subtract=1]="Subtract",e[e.Multiply=2]="Multiply",e[e.Divide=3]="Divide";var f={"image/png":".png","image/gif":".gif","image/jpeg":".jpeg,.jpg"},g="image/png";function p(e,t){t=t-e+1;return Math.floor(Math.random()*t+e)}r.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.apply(void 0,u(u([],e),[s.Add]))},r.base64ToFile=d,r.clone=a,r.debounce=function(r,o){void 0===o&&(o=200);var i=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;i&&clearTimeout(i),i=setTimeout(function(){i=null,r.apply(n,e)},o)}},r.divide=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.apply(void 0,u(u([],e),[s.Divide]))},r.fileToBase64=function(r){return new Promise(function(t,n){var e=new FileReader;e.readAsDataURL(r),e.onload=function(e){t(null!==(e=null===(e=e.target)||void 0===e?void 0:e.result)&&void 0!==e?e:"")},e.onerror=function(e){n(e)}})},r.firstLetterUpperCase=function(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1)},r.formatDate=function(e,t){void 0===t&&(t="YYYY-MM-dd HH:mm:ss");var n,r={"Y+":(e=void 0===e?new Date:e).getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(n in r){var o,i=(new RegExp("("+n+")").exec(t)||[])[0];i&&(o=r[n]+"",o=1===i.length?o:o.padStart(i.length,"0"),t=t.replace(i,o))}return t},r.getLocalStorage=function(e){return(e=window.localStorage.getItem(e))?window.JSON.parse(e):null},r.getSessionStorage=function(e){return(e=window.sessionStorage.getItem(e))?window.JSON.parse(e):null},r.getType=o,r.isReferenceType=i,r.loadImage=function(i,a){return void 0===a&&(a={}),new Promise(function(r,e){var t=(a=Object.assign({noCache:!1,base64:!1,file:!1},a)).noCache;a.file&&(a.base64=!0);var o=new Image;o.setAttribute("crossOrigin","Anonymous"),o.onload=function(){var e=o.width,t=o.height,n={url:i,width:e,height:t},e=a.base64,t=a.file;e&&(n.base64=function(e,t){void 0===t&&(t=g);var n=e.width,r=e.height,o=document.createElement("canvas");return o.width=n,o.height=r,o.getContext("2d").drawImage(e,0,0,n,r),document.body.appendChild(o),t=o.toDataURL(t),document.body.removeChild(o),t}(o,function(e){var t,n=(e=e.split("?")[0]).substring(e.lastIndexOf("."));for(t in f)if(f[t].includes(n))return t}(i))),n.base64&&t&&t&&(n.file=d(n.base64)),r(n)},o.onerror=function(){e("图片加载失败")};var n=i;t&&(n+="?time="+(new Date).getTime().toString()),o.src=n})},r.multiply=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.apply(void 0,u(u([],e),[s.Multiply]))},r.random=p,r.removeLocalStorage=function(e){window.localStorage.removeItem(e)},r.removeSessionStorage=function(e){window.sessionStorage.removeItem(e)},r.setLocalStorage=function(e,t){window.localStorage.setItem(e,window.JSON.stringify(n(t)))},r.setSessionStorage=function(e,t){window.sessionStorage.setItem(e,window.JSON.stringify(n(t)))},r.subtract=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l.apply(void 0,u(u([],e),[s.Subtract]))},r.throttle=function(o,i){void 0===i&&(i=200);var e=[null,null],a=e[0],u=e[1];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this,r=(new Date).getTime();clearTimeout(u),!a||i<=r-a?(a=r,o.apply(n,e)):r-a<i&&(u=setTimeout(function(){u=a=null,o.apply(n,e)},i))}},r.uuid=function(e){void 0===e&&(e=18);for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[],r=e;0<r;r--)n.push(t[p(0,t.length)]);return n.join("")},Object.defineProperty(r,"__esModule",{value:!0})});
