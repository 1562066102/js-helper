function formatDate(e,t){void 0===t&&(t="YYYY-MM-dd HH:mm:ss");var n,r={"Y+":(e=void 0===e?new Date:e).getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(n in r){var o,a=(new RegExp("("+n+")").exec(t)||[])[0];a&&(o=r[n]+"",o=1===a.length?o:o.padStart(a.length,"0"),t=t.replace(a,o))}return t}function convertNonEmptyValue(e){return null==e?"":e}function setLocalStorage(e,t){window.localStorage.setItem(e,window.JSON.stringify(convertNonEmptyValue(t)))}function getLocalStorage(e){e=window.localStorage.getItem(e);return e?window.JSON.parse(e):null}function removeLocalStorage(e){window.localStorage.removeItem(e)}function setSessionStorage(e,t){window.sessionStorage.setItem(e,window.JSON.stringify(convertNonEmptyValue(t)))}function getSessionStorage(e){e=window.sessionStorage.getItem(e);return e?window.JSON.parse(e):null}function removeSessionStorage(e){window.sessionStorage.removeItem(e)}var Type;function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function isReferenceType(e){e=getType(e);return e===Type.Object||e===Type.Array}!function(e){e.Null="Null",e.Undefined="Undefined",e.Number="Number",e.Boolean="Boolean",e.String="String",e.Symbol="Symbol",e.Date="Date",e.RegExp="RegExp",e.Function="Function",e.Object="Object",e.Array="Array"}(Type=Type||{});var ComputeFunctionName,clone=function e(t){if(isReferenceType(t)){var n,r=getType(t)===Type.Object?{}:[];for(n in t)r[n]=e(t[n]);return r}return t};function debounce(r,o){void 0===o&&(o=200);var a=null;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;a&&clearTimeout(a),a=setTimeout(function(){a=null,r.apply(n,e)},o)}}function throttle(o,a){void 0===a&&(a=200);var e=[null,null],i=e[0],u=e[1];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this,r=(new Date).getTime();clearTimeout(u),!i||a<=r-i?(i=r,o.apply(n,e)):r-i<a&&(u=setTimeout(function(){u=i=null,o.apply(n,e)},a))}}function __spreadArray(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}function numToInteger(e){var t={times:1,value:0};return Number.isInteger(e)?t.value=e:(t.times=Math.pow(10,(""+e).split(".")[1].length),t.value=parseInt(""+(Math.abs(e)*t.times+.5),10),e<0&&(t.value=-t.value)),t}function compute(e,t,n){var r,e=numToInteger(e),o=e.value,a=e.times,t=numToInteger(t),i=t.value,u=t.times,l=Math.max(a,u);switch(n){case ComputeFunctionName.Add:r=(o*(l/a)+i*(l/u))/l;break;case ComputeFunctionName.Subtract:r=(o*(l/a)-i*(l/u))/l;break;case ComputeFunctionName.Multiply:r=o*i/(a*u);break;case ComputeFunctionName.Divide:r=o/i*(u/a)}return r}function add(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return compute.apply(void 0,__spreadArray(__spreadArray([],e),[ComputeFunctionName.Add]))}function subtract(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return compute.apply(void 0,__spreadArray(__spreadArray([],e),[ComputeFunctionName.Subtract]))}function multiply(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return compute.apply(void 0,__spreadArray(__spreadArray([],e),[ComputeFunctionName.Multiply]))}function divide(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return compute.apply(void 0,__spreadArray(__spreadArray([],e),[ComputeFunctionName.Divide]))}function firstLetterUpperCase(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function base64ToFile(e,t){void 0===t&&(t="file");for(var n=e.split(","),e=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],t,{type:e})}function fileToBase64(r){return new Promise(function(t,n){var e=new FileReader;e.readAsDataURL(r),e.onload=function(e){t(null!==(e=null===(e=e.target)||void 0===e?void 0:e.result)&&void 0!==e?e:"")},e.onerror=function(e){n(e)}})}!function(e){e[e.Add=0]="Add",e[e.Subtract=1]="Subtract",e[e.Multiply=2]="Multiply",e[e.Divide=3]="Divide"}(ComputeFunctionName=ComputeFunctionName||{});var imageTypes={"image/png":".png","image/gif":".gif","image/jpeg":".jpeg,.jpg"},defaultImageType="image/png";function getImageType(e){var t,n=(e=e.split("?")[0]).substring(e.lastIndexOf("."));for(t in imageTypes)if(imageTypes[t].includes(n))return t}function imageToBase64(e,t){void 0===t&&(t=defaultImageType);var n=e.width,r=e.height,o=document.createElement("canvas");o.width=n,o.height=r,o.getContext("2d").drawImage(e,0,0,n,r),document.body.appendChild(o);t=o.toDataURL(t);return document.body.removeChild(o),t}function loadImage(a,i){return void 0===i&&(i={}),new Promise(function(r,e){var t=(i=Object.assign({noCache:!1,base64:!1,file:!1},i)).noCache;i.file&&(i.base64=!0);var o=new Image;o.setAttribute("crossOrigin","Anonymous"),o.onload=function(){var e=o.width,t=o.height,n={url:a,width:e,height:t},e=i.base64,t=i.file;e&&(n.base64=imageToBase64(o,getImageType(a))),n.base64&&t&&t&&(n.file=base64ToFile(n.base64)),r(n)},o.onerror=function(){e("图片加载失败")};var n=a;t&&(n+="?time="+(new Date).getTime().toString()),o.src=n})}function random(e,t){t=t-e+1;return Math.floor(Math.random()*t+e)}function uuid(e){void 0===e&&(e=18);for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=[],r=e;0<r;r--)n.push(t[random(0,t.length)]);return n.join("")}export{Type,add,base64ToFile,clone,debounce,divide,fileToBase64,firstLetterUpperCase,formatDate,getLocalStorage,getSessionStorage,getType,isReferenceType,loadImage,multiply,random,removeLocalStorage,removeSessionStorage,setLocalStorage,setSessionStorage,subtract,throttle,uuid};
